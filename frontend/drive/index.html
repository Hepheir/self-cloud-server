<link rel="stylesheet" href="/stat/css/list.css">

<header class="header-layout header">
    <label class="dynamic-icon"></label>

    <div class="title">
        <nav class="path">

            <a class="parent"></a>
            <svg class="divider-icon" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
            
            <a class="current"></a>
        </nav>
        <span class="selected-items"></span>
    </div>
    
    <label id="login" class="drop-down">
        <img src="/stat/icon/login.svg">
    </label>
</header>

<script>
    var client_id = getCookie('client_id');

    const login = document.getElementById('login');

    login.addEventListener('click', () => {

        console.log('id: ', client_id);
        client_id = prompt('아이디를 입력해라요!', client_id);
        document.cookie = 'client_id=' + client_id + ';path=/;';
        playerLayoutDOM.removeAttribute('saved');
    })

    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    
</script>

<main class="body-layout">
    <ul id="file-list" class="file-list">
        <!-- 

        <img class="selected-icon" src="/stat/icon/check.svg">
        <a class="item-layout">
            <img class="primary-icon" src="/stat/icon/${type}.svg">
            <span class="text">${filename}</span>

            //# if type == 'audio'
            <img class="secondary-icon playlist-add" src="/stat/icon/playlist-add.svg">
            <img class="secondary-icon playlist-remove" src="/stat/icon/playlist-added.svg">
        </a>

         -->
    </ul>
</main>

<aside class="player-layout">
    <div class="playlist-layout">
        <div class="playlist">
            <div class="playlist-header">

                <a class="playlist-sync">
                    <img id="playlist-save" class="save" src="/stat/icon/playlist-save.svg">
                    <img id="playlist-load" class="load" src="/stat/icon/playlist-load.svg">
                    <img class="saved" src="/stat/icon/playlist-saved.svg">
                </a>
            </div>
            <ul id="ap-playlist" class="playlist-list"></ul>
        </div>
        
    </div>

    <div class="player">
        <audio id="ap-player" controls autoplay pre-load="auto">
            <source id="ap-source" src=""><source>
        </audio>
        <span id="player-title" class="title"></span>
        <span id="player-artist" class="artist"></span>
    </div>
</aside>

<link rel="stylesheet" href="/stat/css/audio-player.css">
<script src="/stat/script/audio-player.js"></script>

<script src="/stat/script/list-control.js"></script>
